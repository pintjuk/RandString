This is plagerized from:

https://play.golang.org/p/WIgH7GRnN1

for use as a library in my projects